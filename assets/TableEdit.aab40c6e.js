import{d as M,R as D,k as v,L as U,S as Y,P as $,U as h,V as A,Q as J,W as P,X as R,Y as F,Z as z,_ as j,o as b,i as L,e as o,f as n,w as t,D as i,t as _,j as y,b as k}from"./vendor.6d7790d8.js";/* empty css                     *//* empty css                 *//* empty css                        *//* empty css               */const Q=i(" Add "),W={style:{color:"brown"}},X={style:{color:"cornflowerblue"}},Z=i(" Edit "),q=i(" Delete "),G=i("Cancel"),H=i(" Confirm Add "),K=i(" Confirm Edit "),de=M({setup(ee){const l=D({title:"",date:"",content:""}),s=v(!1),c=v(!1),m=v();let d=D(localStorage.getItem("TableData")?JSON.parse(localStorage.getItem("TableData")||"[]"):[]);U(()=>{console.log("onTableEditMounted")});const E=(r,a)=>{c.value=!0,s.value=!0,l.title=a.title,l.date=a.date,l.content=a.content},V=()=>{d.splice(d.findIndex(r=>r.date===l.date),1,{date:l.date,title:l.title,content:l.content}),localStorage.setItem("TableData",JSON.stringify(d)),s.value=!1},C=(r,a)=>{d.splice(r,1),localStorage.setItem("TableData",JSON.stringify(d))},w=()=>{console.log("addData"),m.value.validate(async r=>{r&&(d.push(l),localStorage.setItem("TableData",JSON.stringify(d)))}),s.value=!1};return(r,a)=>{const u=Y,f=$,x=h,S=A,T=J,g=P,p=R,I=F,N=z,O=j;return b(),L("div",null,[o(u,{type:"primary",onClick:a[0]||(a[0]=()=>{s.value=!0,c.value=!1,n(l).title="",n(l).date="",n(l).content=""})},{default:t(()=>[Q]),_:1}),o(T,{data:n(d)},{default:t(()=>[o(f,{label:"Date",align:"center"},{default:t(e=>[i(_(e.row.date),1)]),_:1}),o(f,{label:"Title",align:"center"},{default:t(e=>[o(S,{placement:"top"},{default:t(()=>[y("div",W,"title: "+_(e.row.title),1),y("div",X," content: "+_(e.row.content),1)]),reference:t(()=>[o(x,null,{default:t(()=>[i(_(e.row.title),1)]),_:2},1024)]),_:2},1024)]),_:1}),o(f,{label:"Operations",align:"center"},{default:t(e=>[o(u,{type:"text",size:"small",onClick:B=>E(e.$index,e.row)},{default:t(()=>[Z]),_:2},1032,["onClick"]),o(u,{type:"text",size:"small",style:{color:"red"},onClick:B=>C(e.$index,e.row)},{default:t(()=>[q]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),o(O,{ref_key:"formRef",ref:m,modelValue:s.value,"onUpdate:modelValue":a[5]||(a[5]=e=>s.value=e),title:c.value?"Edit":"Add",width:"32%"},{footer:t(()=>[y("span",null,[o(u,{onClick:a[4]||(a[4]=e=>s.value=!1)},{default:t(()=>[G]),_:1}),c.value?(b(),k(u,{key:1,type:"primary",onClick:V},{default:t(()=>[K]),_:1})):(b(),k(u,{key:0,type:"primary",onClick:w},{default:t(()=>[H]),_:1}))])]),default:t(()=>[o(N,{ref_key:"formRef",ref:m,model:n(l),"label-width":"4rem","label-position":"top"},{default:t(()=>[o(p,{label:"title",prop:"title"},{default:t(()=>[o(g,{modelValue:n(l).title,"onUpdate:modelValue":a[1]||(a[1]=e=>n(l).title=e)},null,8,["modelValue"])]),_:1}),o(p,{label:"date",prop:"date"},{default:t(()=>[o(I,{style:{width:"100%"},modelValue:n(l).date,"onUpdate:modelValue":a[2]||(a[2]=e=>n(l).date=e),"value-format":"YYYY-MM-DD",type:"date"},null,8,["modelValue"])]),_:1}),o(p,{label:"content",prop:"content"},{default:t(()=>[o(g,{type:"textarea",rows:4,modelValue:n(l).content,"onUpdate:modelValue":a[3]||(a[3]=e=>n(l).content=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}});export{de as default};
