var U=Object.defineProperty;var V=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var k=(i,e,a)=>e in i?U(i,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[e]=a,y=(i,e)=>{for(var a in e||(e={}))Y.call(e,a)&&k(i,a,e[a]);if(V)for(var a of V(e))J.call(e,a)&&k(i,a,e[a]);return i};import{d as R,R as C,k as b,L as F,S as z,P as j,U as L,V as Q,W,Q as X,X as Z,Y as q,Z as G,_ as H,$ as K,o as g,i as ee,e as o,f as r,w as t,D as s,t as f,j as D,b as w}from"./vendor.a8ab573b.js";/* empty css                     *//* empty css                 *//* empty css                        *//* empty css               */const te=s(" Add "),le={style:{color:"brown"}},oe={style:{color:"cornflowerblue"}},ae=s(" Edit "),ne=s(" Delete "),re=s("Cancel"),ie=s(" Confirm Add "),de=s(" Confirm Edit "),pe=R({setup(i){const e=C({index:0,title:"",date:"",content:""}),a=b(!1),m=b(!1),_=b(),u=C(localStorage.getItem("TableData")?JSON.parse(localStorage.getItem("TableData")||"[]"):[]);F(()=>{console.log("onTableEditMounted")});const x=(d,n)=>{m.value=!0,a.value=!0,e.title=n.title,e.date=n.date,e.content=n.content,e.index=d},S=()=>{_.value.validate(async d=>{d&&(u.splice(e.index,1,y({},e)),localStorage.setItem("TableData",JSON.stringify(u)),a.value=!1)})},T=(d,n)=>(u.splice(d,1),localStorage.setItem("TableData",JSON.stringify(u)),!0),I=()=>{console.log("addData"),_.value.validate(async d=>{d&&(u.push(y({},e)),localStorage.setItem("TableData",JSON.stringify(u)))}),a.value=!1};return(d,n)=>{const c=z,p=j,N=L,O=Q,P=W,$=X,E=Z,v=q,h=G,A=H,B=K;return g(),ee("div",null,[o(c,{type:"primary",onClick:n[0]||(n[0]=()=>{a.value=!0,m.value=!1,r(e).title="",r(e).date="",r(e).content=""})},{default:t(()=>[te]),_:1}),o($,{data:r(u),stripe:""},{default:t(()=>[o(p,{label:"Date",align:"center"},{default:t(l=>[s(f(l.row.date),1)]),_:1}),o(p,{label:"Title",align:"center"},{default:t(l=>[o(O,{placement:"top"},{default:t(()=>[D("div",le,"title: "+f(l.row.title),1),D("div",oe," content: "+f(l.row.content),1)]),reference:t(()=>[o(N,null,{default:t(()=>[s(f(l.row.title),1)]),_:2},1024)]),_:2},1024)]),_:1}),o(p,{label:"Operations",align:"center"},{default:t(l=>[o(c,{type:"text",size:"small",onClick:M=>x(l.$index,l.row)},{default:t(()=>[ae]),_:2},1032,["onClick"]),o(P,{title:"Are you sure to delete this?",onConfirm:M=>T(l.$index,l.row)},{reference:t(()=>[o(c,{type:"text",size:"small",style:{color:"red"}},{default:t(()=>[ne]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),o(B,{ref_key:"formRef",ref:_,modelValue:a.value,"onUpdate:modelValue":n[5]||(n[5]=l=>a.value=l),title:m.value?"Edit":"Add",width:"32%"},{footer:t(()=>[D("span",null,[o(c,{onClick:n[4]||(n[4]=l=>a.value=!1)},{default:t(()=>[re]),_:1}),m.value?(g(),w(c,{key:1,type:"primary",onClick:S},{default:t(()=>[de]),_:1})):(g(),w(c,{key:0,type:"primary",onClick:I},{default:t(()=>[ie]),_:1}))])]),default:t(()=>[o(A,{ref_key:"formRef",ref:_,model:r(e),"label-width":"4rem","label-position":"top"},{default:t(()=>[o(v,{label:"title",prop:"title"},{default:t(()=>[o(E,{modelValue:r(e).title,"onUpdate:modelValue":n[1]||(n[1]=l=>r(e).title=l)},null,8,["modelValue"])]),_:1}),o(v,{label:"date",prop:"date"},{default:t(()=>[o(h,{style:{width:"100%"},modelValue:r(e).date,"onUpdate:modelValue":n[2]||(n[2]=l=>r(e).date=l),"value-format":"YYYY-MM-DD",type:"date"},null,8,["modelValue"])]),_:1}),o(v,{label:"content",prop:"content"},{default:t(()=>[o(E,{type:"textarea",rows:4,modelValue:r(e).content,"onUpdate:modelValue":n[3]||(n[3]=l=>r(e).content=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}});export{pe as default};
